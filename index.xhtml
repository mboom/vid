<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="nl" lang="nl">
    <head>
        <script
          src="https://code.jquery.com/jquery-3.2.1.min.js"
          integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
          crossorigin="anonymous"></script>
        <script src="https://cdn.dashjs.org/latest/dash.all.min.js"></script>
        <script src="providers.js"></script>



        <script>
            var cameras = {
                "list": [],
                "selectCamera": function (id) {
                    for (let camera of list) {
                        if (camera.id === id) {
                            return camera;
                        }
                    }
                    throw new Error("camera not found");
                }/*,
                "getStream": function (id, stream, protocol) {
                    var source = id;
                    var cam = selectCamera(id);
                    if (stream === "live") {
                        source = cam.stream;
                    }
                    return providers.selectSource(cam.provider, "static", "image").location(source);
                }*/
            };
            /*$.getJSON("cameras.json", function (data) {
                cameras.list = data;
            });


            
            var cctv = {
                addLive: function (src) {
                    $("body").append("<video autoplay='' controls='' data-dashjs-player='' src='" + src + "'></video>");
                },
                addStatic: function (src) {
                    $("body").append("<img src='" + src + "'/>");
                }
            };*/
        </script>



        <!--<script>
            function testCCTV() {
                for (let i = 0; i < 5; ++i) {
                    cctv.addLive(cameras.getStream(cameras.list[i].id));
                }
            }
            $("body").append("<script>testCCTV();</script>");
        </script>-->
        


        <style>
            video {
                height: 360px;
                width: 640px;
            }
        </style>
        <title>Overview</title>
    </head>


    <body>
        <video autoplay="" controls="" data-dashjs-player=""
          src="https://dash.akamaized.net/envivio/EnvivioDash3/manifest.mpd"></video>
    </body>
</html>
